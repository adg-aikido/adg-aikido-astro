---
/**
 * PaymentInfo Component
 * 
 * Displays payment information with 4 variants:
 * - inline: Floating QR, text flows around (priser.astro default)
 * - hero: Large hero section with QR and details (priser--filter.astro)
 * - card: Card-based layout (future use)
 * - sidebar: Sidebar-style with QR on top (future use)
 */

export interface Props {
  variant?: 'inline' | 'hero' | 'card' | 'sidebar';
  showPartialPayment?: boolean;
}

const { 
  variant = 'inline',
  showPartialPayment = true 
} = Astro.props;
---

{variant === 'inline' && (
  <div class="mt-3 flow-root">
    <img 
      src="/assets/swish-qr.svg" 
      class="float-right ml-6 h-32 w-32" 
      alt="QR kod för Swish-betalning"
    />
    <p>
      Betala på plusgiro <strong>462 37 05-3</strong> eller med Swish <strong>123-1617109</strong>. 
      Vänligen specificera vad betalningen gäller (t ex "träning &lt;namn&gt; HT 2022").
    </p>
    {showPartialPayment && (
      <p class="mt-5">
        Om man börjar i mitten eller slutet på en termin, får man betala träningsavgift för delen av 
        terminen som man tränar (dvs en månadsavgift som är terminsavgiften delat på 6). Vi föredrar 
        att man betalar för en termin eller ett år i taget, men det går bra att betala månadsvis också: 
        prata med oss om det.
      </p>
    )}
  </div>
)}

{variant === 'hero' && (
  <div class="hero bg-primary text-primary-content rounded-2xl shadow-xl">
    <div class="hero-content flex-col gap-8 py-8 lg:flex-row-reverse lg:justify-between">
      <!-- Swish QR Code -->
      <div class="text-center lg:text-right">
        <div class="inline-block rounded-xl bg-base-100 p-4 shadow-lg">
          <img 
            src="/assets/swish-qr.svg" 
            class="h-40 w-40" 
            alt="QR kod för Swish-betalning"
          />
        </div>
        <p class="mt-2 text-sm opacity-90">Swish: <strong>123-1617109</strong></p>
      </div>

      <!-- Payment Info -->
      <div class="max-w-2xl">
        <h1 class="text-4xl font-bold">Börja träna hos oss!</h1>
        <p class="mt-4 text-lg">
          Vi har kontinuerlig intagning och tar hand om nybörjare så att man kan lära sig grunderna i egen takt.
        </p>
        
        <div class="mt-6 space-y-3">
          <div class="flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z" />
            </svg>
            <div>
              <p class="text-sm opacity-80">Plusgiro</p>
              <p class="font-bold">462 37 05-3</p>
            </div>
          </div>
          
          <div class="flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
            </svg>
            <div>
              <p class="text-sm opacity-80">Swish</p>
              <p class="font-bold">123-1617109</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
)}

{variant === 'card' && (
  <div class="card card-border bg-base-100 shadow-lg">
    <div class="card-body">
      <h3 class="card-title">Betalning</h3>
      <div class="flex flex-col items-center gap-4 sm:flex-row sm:items-start">
        <div class="shrink-0">
          <img 
            src="/assets/swish-qr.svg" 
            class="h-32 w-32" 
            alt="QR kod för Swish-betalning"
          />
        </div>
        <div class="space-y-2 text-center sm:text-left">
          <p><strong>Plusgiro:</strong> 462 37 05-3</p>
          <p><strong>Swish:</strong> 123-1617109</p>
          <p class="text-sm">Vänligen specificera vad betalningen gäller (t ex "träning &lt;namn&gt; HT 2022").</p>
          {showPartialPayment && (
            <p class="text-sm mt-3">
              Om man börjar i mitten eller slutet på en termin, får man betala träningsavgift för delen av 
              terminen som man tränar (dvs en månadsavgift som är terminsavgiften delat på 6).
            </p>
          )}
        </div>
      </div>
    </div>
  </div>
)}

{variant === 'sidebar' && (
  <div class="space-y-4">
    <div class="text-center">
      <img 
        src="/assets/swish-qr.svg" 
        class="mx-auto h-32 w-32" 
        alt="QR kod för Swish-betalning"
      />
      <p class="mt-2 text-sm">Swish: <strong>123-1617109</strong></p>
    </div>
    <div class="space-y-2">
      <p class="text-sm"><strong>Plusgiro:</strong> 462 37 05-3</p>
      <p class="text-sm">Vänligen specificera vad betalningen gäller.</p>
      {showPartialPayment && (
        <p class="text-sm mt-3">
          Börjar du mitt i terminen? Betala för delen du tränar (månadsavgift = terminsavgift ÷ 6).
        </p>
      )}
    </div>
  </div>
)}
