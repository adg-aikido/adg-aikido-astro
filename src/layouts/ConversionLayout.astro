---
import "../styles/adg.css";
import AdgLogo from "../assets/logo_adg_block.svg";
import Navigation from "../components/common/Navigation.astro";

export interface Props {
  title?: string;
  description?: string;
}

const {
  title = "Aikido Dojo Gamlestaden i Göteborg - träningsglädje sedan 1989",
  description = "Aikido Dojo Gamlestaden - Välkommen till oss i Gamlestaden för träningsglädje och effektivt självförsvar.",
} = Astro.props;

const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="sv" class="h-full scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="theme-color" content="#3b82f6" />
    <link rel="icon" type="image/icon" href="/favicon.ico" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Alegreya:wght@600;700&family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body
    class="relative min-h-full bg-fixed bg-center bg-cover border-t-4 border-primary-500"
    style="background-image: url(/assets/shomen-adg-white.png)"
  >
    <!-- Background overlay -->
    <div
      class="fixed inset-0 bg-cover bg-center opacity-40 pointer-events-none"
      style="background-image: url('/assets/shomen-adg-white.png'); z-index: 0;"
    ></div>

    <!-- Content wrapper -->
    <div class="relative z-10">
    <!-- STICKY HEADER -->
    <header
      id="stickyHeader"
      class="sticky top-0 z-50 shadow bg-linear-to-br from-primary-400 to-primary-200 transition-all duration-300"
    >
      <div
        id="headerImages"
        class="container flex items-center content-center justify-around max-w-5xl py-2 mx-auto sm:py-4 transition-all duration-300"
      >
        <a
          href="/"
          class="w-16 h-8 text-gray-800 shrink-0 md:h-16 lg:h-24 md:w-24 lg:w-32 transition-all duration-300"
          aria-label="ADG logo"
        >
          <AdgLogo class="fill-current" />
        </a>
        
          <img src="/assets/1.png" class="h-8 sm:h-16 md:h-20 lg:h-24 transition-all duration-300" alt="" />
          <img src="/assets/2.png" class="h-8 sm:h-16 md:h-20 lg:h-24 transition-all duration-300" alt="" />
          <img src="/assets/3.png" class="h-8 sm:h-16 md:h-20 lg:h-24 transition-all duration-300" alt="" />
          <img src="/assets/4.png" class="h-8 sm:h-16 md:h-20 lg:h-24 transition-all duration-300" alt="" />
          <img src="/assets/5.png" class="h-8 sm:h-16 md:h-20 lg:h-24 transition-all duration-300" alt="" />
          <img src="/assets/6.png" class="h-8 sm:h-16 md:h-20 lg:h-24 transition-all duration-300" alt="" />
          <img src="/assets/7.png" class="h-8 sm:h-16 md:h-20 lg:h-24 transition-all duration-300" alt="" />
          <img src="/assets/8.png" class="h-8 sm:h-16 md:h-20 lg:h-24 transition-all duration-300" alt="" />
        
      </div>
      <div class="pt-2">
        <Navigation currentPath={currentPath} />
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="flex-1 pb-12">
      <slot />
    </main>

    </div>

    <!-- FOOTER -->
    <footer
      class="py-4 text-sm text-center border-t-4 bg-linear-to-br from-primary-400 to-primary-200 border-primary-500"
    >
      <div class="text-gray-800">© 2007-2026 Aikido Dojo Gamlestaden.</div>
    </footer>
  </body>

  <script>
    const stickyHeader = document.getElementById("stickyHeader");

    const scrollThreshold = 100;
    const collapsedScale = 0.7;

    window.addEventListener("scroll", () => {
      const currentScrollY = window.scrollY;
      const scale = currentScrollY > scrollThreshold ? collapsedScale : 1;

      if (stickyHeader) {
        stickyHeader.style.transform = `scale(${scale})`;
        stickyHeader.style.transformOrigin = "top center";
      }
    });
  </script>
</html>
