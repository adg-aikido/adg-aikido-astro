---
import Layout from "../layouts/Layout.astro";
import SectionHeading from "../components/common/SectionHeading.astro";
import ScheduleCard from "../components/common/ScheduleCard.astro";
import schemaData from "../data/schema.yaml";

const { schedule, summer_schedule, instructors } = schemaData;

// Determine which schedule to display
const activeSchedule = summer_schedule.enabled ? summer_schedule : schedule;
const scheduleTitle = summer_schedule.enabled ? "Sommarprogrammet" : "Schema";
---

<Layout
  title="Schema - Aikido Dojo Gamlestaden"
  description="Träningsschema för Aikido Dojo Gamlestaden. Se våra träningstider för barn, ungdomar och vuxna."
>
  <main class="container mx-auto max-w-6xl px-4 py-2 sm:px-6 lg:px-8">
    <div class="pb-8 mt-4">
      <SectionHeading level="h1">{scheduleTitle}</SectionHeading>
      
      <div class="mt-3">
        <p class="font-bold mb-4">Vårterminen börjar den 17 januari</p>
        
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4">
          {activeSchedule.days.map((daySchedule) => (
            <ScheduleCard
              day={daySchedule.day}
              sessions={daySchedule.sessions}
            />
          ))}
        </div>

        <div class="flex flex-wrap mt-8 gap-8">
          <div class="w-full md:w-[60%] lg:w-[65%]">
            <ul class="space-y-2 list-disc list-inside text-sm sm:text-base">
              <li>Intag av nybörjare till alla grupper sker löpande.</li>
              <li>
                <em>Fri träning</em> innebär att någon med nyckel måste vara med, om du inte har det fråga runt om någon annan kommer.
              </li>
              <li>
                <em>Tema träningen</em> är också enligt överenskommelse, info kommer att postas på WhatsApp gruppen.
              </li>
              <li>
                Generellt gäller att <strong>röda dagar är det ingen träning</strong>. 
                <em>Om inget annat sägs eller annonseras i god tid, svarta dagar blir det träning som vanligt</em> 
                (till exempel valborgsmässoafton).
              </li>
              <li>
                Under sommaren blir det ingen schemalagd träning på torsdagar och söndagar (om man inte ordnar det själv).
              </li>
            </ul>
          </div>

          <div class="w-full md:w-[35%] lg:w-[30%]">
            <ul class="space-y-1 text-sm sm:text-base text-gray-700">
              {instructors.map((instructor) => (
                <li>{instructor.initials} = {instructor.name}, {instructor.grade}</li>
              ))}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </main>
</Layout>
