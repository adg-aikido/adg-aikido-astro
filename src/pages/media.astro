---
import Layout from "../layouts/Layout.astro";
import MediaSection from "../components/common/MediaSection.astro";
import MediaCard from "../components/common/MediaCard.astro";
import CircleArrowIcon from "../assets/circle-arrow-right-icon-8e72d6.svg";
import mediaData from "../data/media.yaml";

const { mediaSections } = mediaData;

const tableOfContents = [
  { id: "nyhetsbrev", label: "Nyhetsbrev" },
  { id: "traningsvideor", label: "Träningsvideor" },
  { id: "dokument", label: "Dokument" },
  { id: "affischer", label: "Affischer" },
  { id: "foreningsdokument", label: "Föreningsdokument" },
  { id: "videogalleri", label: "Videogalleri" },
];
---

<Layout
  title="Media - Aikido Dojo Gamlestaden"
  description="Träningsvideor, dokument, affischer och annat material från Aikido Dojo Gamlestaden."
>
  <main class="container mx-auto max-w-6xl px-4 py-2 sm:px-6 lg:px-8">
    <div class="pb-8">
      <!-- Table of Contents -->
      <nav class="mb-6">
        <ul class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-3">
          {tableOfContents.map((item) => (
            <li class="flex items-center">
              <div class="w-4 h-4 mr-3 flex-shrink-0">
                <CircleArrowIcon />
              </div>
              <a href={`#${item.id}`} class="hover:underline">{item.label}</a>
            </li>
          ))}
        </ul>
      </nav>

      <ul>
        {mediaSections.map((section) => (
          <MediaSection 
            title={section.title} 
            subtitle={section.subtitle}
            id={section.id}
            gridCols={section.gridCols}
          >
            {section.items.map((card) => (
              <MediaCard
                href={card.href}
                title={card.title}
                thumbnail={card.thumbnail}
                thumbnailAlt={card.thumbnailAlt}
                tags={card.tags}
                isYouTube={card.isYouTube}
              />
            ))}
          </MediaSection>
        ))}
      </ul>
    </div>
  </main>
</Layout>
